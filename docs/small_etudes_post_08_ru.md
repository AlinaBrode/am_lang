20 sep 2025
# Доказательство обмена (XOR)

## Первый столбец (конспект)
* При начальных значениях a0 и b0 можно строго доказать корректность XOR‑алгоритма обмена

## Второй столбец (текст)

[Ранее](https://am-lang.web.app/ru/small_etudes/xor) мы показывали, что алгоритм обмена значений с помощью XOR действительно работает: сверяли примеры по таблице XOR. Но это была демонстрация, а не доказательство. Сегодня разберёмся, почему этот приём корректен, — чуть более строго.

Сначала поймём, как работает операция a ^ b. Запишем «a» в двоичном виде. Там, где в «b» стоит 0, биты «a» не меняются. Там, где в «b» стоит 1, соответствующие биты «a» инвертируются. Если сделать это два раза, мы вернёмся к исходному: a ^ b ^ b = a.

Пусть в переменных a и b исходно лежат значения a0 и b0:
let a = a0, b = b0;

После первого шага, a = a ^ b:
a = a0 ^ b0, b = b0

Второй шаг, b = a ^ b:
a = a0 ^ b0, b = b0 ^ (a0 ^ b0)
используем свойство XOR и «сокращаем» b0: a = a0 ^ b0, b = a0

Третий шаг, a = a ^ b:
a = a0 ^ b0 ^ a0, b = a0
после упрощения получаем a = b0, b = a0

Видно, что значения поменялись местами. На этот раз мы рассмотрели общий случай и получили строгое доказательство того, что метод работает для любых целых a0 и b0.

## Третий столбец (картинка)
strict_proof.webp
